---
import type { ZutraCaseStudy } from "@/types/project-types";

interface Props {
    project: ZutraCaseStudy;
}

const { project } = Astro.props;
---

<section class="case-closure">
    <div class="container">
        <div class="closure-grid">
            {
                project.lessonsLearned && (
                    <div class="closure-item">
                        <h3 class="subsection-title">Lecciones Aprendidas</h3>
                        <ul class="check-list">
                            {project.lessonsLearned.map((item: string) => (
                                <li>
                                    <i class="ph ph-check-circle" /> {item}
                                </li>
                            ))}
                        </ul>
                    </div>
                )
            }
            {
                project.futureEnhancements && (
                    <div class="closure-item">
                        <h3 class="subsection-title">Próximos Pasos</h3>
                        <ul class="plus-list">
                            {project.futureEnhancements.map((item: string) => (
                                <li>
                                    <i class="ph ph-plus-circle" /> {item}
                                </li>
                            ))}
                        </ul>
                    </div>
                )
            }
        </div>

        {
            project.awards && project.awards.length > 0 && (
                <div class="recognition-box">
                    <h3 class="subsection-title">Premios y Reconocimientos</h3>
                    <div class="recognition-grid">
                        {project.awards.map((award: any) => (
                            <div class="award-item">
                                <i class="ph ph-trophy" />
                                <div class="award-text">
                                    <span class="award-name">{award.name}</span>
                                    <span class="award-meta">
                                        {award.category} • {award.year}
                                    </span>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            )
        }

        {
            project.press && project.press.length > 0 && (
                <div class="press-section">
                    <h3 class="subsection-title">En la Prensa</h3>
                    <div class="press-grid">
                        {project.press.map((item: any) => (
                            <a
                                href={item.url}
                                target="_blank"
                                rel="noopener noreferrer"
                                class="press-item"
                            >
                                <div class="press-content">
                                    <span class="press-outlet">
                                        {item.outlet}
                                    </span>
                                    <h4 class="press-title">{item.title}</h4>
                                    <span class="press-date">{item.date}</span>
                                </div>
                                <i class="ph ph-arrow-square-out" />
                            </a>
                        ))}
                    </div>
                </div>
            )
        }
    </div>
</section>

<style>
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
    }

    .subsection-title {
        font-size: 1.35rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        color: var(--color-accent);
        display: block;
    }

    .case-closure {
        padding: 8rem 0;
    }

    .closure-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 6rem;
        margin-bottom: 6rem;
    }

    .check-list,
    .plus-list {
        list-style: none;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .check-list li,
    .plus-list li {
        display: flex;
        gap: 1.25rem;
        font-size: 1.25rem;
        color: var(--color-muted);
        line-height: 1.4;
    }

    .check-list li i,
    .plus-list li i {
        color: var(--color-accent);
        font-size: 1.75rem;
        flex-shrink: 0;
    }

    .recognition-box {
        background: var(--color-surface);
        padding: 4rem;
        border-radius: var(--radius-3xl);
        border: 1px solid var(--color-line);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
    }

    .recognition-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 3rem;
    }

    .award-item {
        display: flex;
        gap: 2rem;
        align-items: center;
    }

    .award-item i {
        font-size: 3.5rem;
        color: var(--color-accent);
    }

    .award-name {
        font-size: 1.35rem;
        font-weight: 800;
        color: var(--color-secondary);
        display: block;
        margin-bottom: 0.5rem;
    }

    .award-meta {
        font-size: 1rem;
        color: var(--color-muted);
    }

    .press-section {
        margin-top: 6rem;
    }

    .press-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
    }

    .press-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 2.5rem;
        background: var(--color-primary);
        border: 1px solid var(--color-line);
        border-radius: var(--radius-2xl);
        text-decoration: none;
        transition: all 0.3s;
    }

    .press-item:hover {
        border-color: var(--color-accent);
        transform: translateY(-5px);
        background: var(--color-subtle);
    }

    .press-content {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .press-outlet {
        font-size: 0.75rem;
        font-weight: 800;
        text-transform: uppercase;
        color: var(--color-accent);
        letter-spacing: 0.1em;
    }

    .press-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--color-secondary);
        line-height: 1.3;
    }

    .press-date {
        font-size: 0.85rem;
        color: var(--color-muted);
    }

    .press-item i {
        font-size: 1.5rem;
        color: var(--color-muted);
        transition: color 0.3s;
    }

    .press-item:hover i {
        color: var(--color-accent);
    }

    @media (max-width: 768px) {
        .subsection-title {
            font-size: 1.2rem;
        }
    }
</style>
